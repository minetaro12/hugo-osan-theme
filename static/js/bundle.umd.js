(function(A){typeof define=="function"&&define.amd?define(A):A()})(function(){"use strict";const A=()=>{console.log("%cHello there!ðŸ‘‹","font-size: 2rem; font-weight: bold;"),console.log(`If you're interested in the source code, you can find it here
https://github.com/minetaro12/hugo-osan-theme`)},X=()=>{const s=i=>{if(i){document.documentElement.classList.add("Dark"),localStorage.setItem("dark","on");return}document.documentElement.classList.remove("Dark"),localStorage.setItem("dark","off")};document.querySelector("#theme-button-light").addEventListener("click",()=>{s(!1)}),document.querySelector("#theme-button-dark").addEventListener("click",()=>{s(!0)})},Y=()=>{const s=document.querySelector("#menu-button"),t=document.querySelector("#popup-menu"),e=document.querySelector("#main");s.addEventListener("click",()=>{t.classList.toggle("hide")}),e.addEventListener("click",i=>{i.target.closest("#popup-menu")===null&&i.target.closest("#menu-button")===null&&t.classList.add("hide")})},O=new WeakMap;function V(s,t,e,i){if(!s&&!O.has(t))return!1;const n=O.get(t)??new WeakMap;O.set(t,n);const r=n.get(e)??new Set;n.set(e,r);const l=r.has(i);return s?r.add(i):r.delete(i),l&&s}function Q(s,t){let e=s.target;if(e instanceof Text&&(e=e.parentElement),e instanceof Element&&s.currentTarget instanceof Element){const i=e.closest(t);if(i&&s.currentTarget.contains(i))return i}}function Z(s,t,e,i={}){const{signal:n,base:r=document}=i;if(n!=null&&n.aborted)return;const{once:l,...o}=i,a=r instanceof Document?r.documentElement:r,c=!!(typeof i=="object"?i.capture:i),u=p=>{const g=Q(p,s);if(g){const f=Object.assign(p,{delegateTarget:g});e.call(a,f),l&&(a.removeEventListener(t,u,o),V(!1,a,e,h))}},h=JSON.stringify({selector:s,type:t,capture:c});V(!0,a,e,h)||a.addEventListener(t,u,o),n==null||n.addEventListener("abort",()=>{V(!1,a,e,h)})}function v(){return v=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}return s},v.apply(this,arguments)}const j=(s,t)=>String(s).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||t||"",P=({hash:s}={})=>location.pathname+location.search+(s?location.hash:""),tt=(s,t={})=>{const e=v({url:s=s||P({hash:!0}),random:Math.random(),source:"swup"},t);history.pushState(e,"",s)},E=(s=null,t={})=>{s=s||P({hash:!0});const e=v({},history.state||{},{url:s,random:Math.random(),source:"swup"},t);history.replaceState(e,"",s)},et=(s,t,e,i)=>{const n=new AbortController;return i=v({},i,{signal:n.signal}),Z(s,t,e,i),{destroy:()=>n.abort()}};class S extends URL{constructor(t,e=document.baseURI){super(t.toString(),e)}get url(){return this.pathname+this.search}static fromElement(t){const e=t.getAttribute("href")||t.getAttribute("xlink:href")||"";return new S(e)}static fromUrl(t){return new S(t)}}class B extends Error{constructor(t,e){super(t),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=e.url,this.status=e.status,this.aborted=e.aborted||!1,this.timedOut=e.timedOut||!1}}async function st(s,t={}){var e;s=S.fromUrl(s).url;const i=v({},this.options.requestHeaders,t.headers),n=(e=t.timeout)!=null?e:this.options.timeout,r=new AbortController,{signal:l}=r;t=v({},t,{headers:i,signal:l});let o,a=!1,c=null;n&&n>0&&(c=setTimeout(()=>{a=!0,r.abort("timeout")},n));try{o=await this.hooks.call("fetch:request",{url:s,options:t},(f,{url:y,options:w})=>fetch(y,w)),c&&clearTimeout(c)}catch(f){throw a?(this.hooks.call("fetch:timeout",{url:s}),new B(`Request timed out: ${s}`,{url:s,timedOut:a})):(f==null?void 0:f.name)==="AbortError"||l.aborted?new B(`Request aborted: ${s}`,{url:s,aborted:!0}):f}const{status:u,url:h}=o,m=await o.text();if(u===500)throw this.hooks.call("fetch:error",{status:u,response:o,url:h}),new B(`Server error: ${h}`,{status:u,url:h});if(!m)throw new B(`Empty response: ${h}`,{status:u,url:h});const{url:p}=S.fromUrl(h),g={url:p,html:m};return!this.visit.cache.write||t.method&&t.method!=="GET"||s!==p||this.cache.set(g.url,g),g}class it{constructor(t){this.swup=void 0,this.pages=new Map,this.swup=t}get size(){return this.pages.size}get all(){const t=new Map;return this.pages.forEach((e,i)=>{t.set(i,v({},e))}),t}has(t){return this.pages.has(this.resolve(t))}get(t){const e=this.pages.get(this.resolve(t));return e&&v({},e)}set(t,e){e=v({},e,{url:t=this.resolve(t)}),this.pages.set(t,e),this.swup.hooks.callSync("cache:set",{page:e})}update(t,e){t=this.resolve(t);const i=v({},this.get(t),e,{url:t});this.pages.set(t,i)}delete(t){this.pages.delete(this.resolve(t))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0)}prune(t){this.pages.forEach((e,i)=>{t(i,e)&&this.delete(i)})}resolve(t){const{url:e}=S.fromUrl(t);return this.swup.resolveUrl(e)}}const q=(s,t=document)=>t.querySelector(s),L=(s,t=document)=>Array.from(t.querySelectorAll(s)),R=()=>new Promise(s=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{s()})})});function W(s){return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"}function nt(s,t=[]){return new Promise((e,i)=>{const n=s(...t);W(n)?n.then(e,i):e(n)})}const _=s=>window.CSS&&window.CSS.escape?CSS.escape(s):s,F=s=>1e3*Number(s.slice(0,-1).replace(",","."));class rt{constructor(t){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating"],this.swup=t}get selectors(){const{scope:t}=this.swup.visit.animation;return t==="containers"?this.swup.visit.containers:t==="html"?["html"]:Array.isArray(t)?t:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?L(this.selector):[]}add(...t){this.targets.forEach(e=>e.classList.add(...t))}remove(...t){this.targets.forEach(e=>e.classList.remove(...t))}clear(){this.targets.forEach(t=>{const e=t.className.split(" ").filter(i=>this.isSwupClass(i));t.classList.remove(...e)})}isSwupClass(t){return this.swupClasses.some(e=>t.startsWith(e))}}function ot({to:s,from:t=this.currentPageUrl,hash:e,el:i,event:n}){return{id:Math.random(),from:{url:t},to:{url:s,hash:e},containers:this.options.containers,animation:{animate:!0,wait:!1,name:void 0,scope:this.options.animationScope,selector:this.options.animationSelector},trigger:{el:i,event:n},cache:{read:this.options.cache,write:this.options.cache},history:{action:"push",popstate:!1,direction:void 0},scroll:{reset:!0,target:void 0}}}class at{constructor(t){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:end"],this.swup=t,this.init()}init(){this.hooks.forEach(t=>this.create(t))}create(t){this.registry.has(t)||this.registry.set(t,new Map)}exists(t){return this.registry.has(t)}get(t){const e=this.registry.get(t);if(e)return e;console.error(`Unknown hook '${t}'`)}clear(){this.registry.forEach(t=>t.clear())}on(t,e,i={}){const n=this.get(t);if(!n)return console.warn(`Hook '${t}' not found.`),()=>{};const r=v({},i,{id:n.size+1,hook:t,handler:e});return n.set(e,r),()=>this.off(t,e)}before(t,e,i={}){return this.on(t,e,v({},i,{before:!0}))}replace(t,e,i={}){return this.on(t,e,v({},i,{replace:!0}))}once(t,e,i={}){return this.on(t,e,v({},i,{once:!0}))}off(t,e){const i=this.get(t);i&&e?i.delete(e)||console.warn(`Handler for hook '${t}' not found.`):i&&i.clear()}async call(t,e,i){const{before:n,handler:r,after:l}=this.getHandlers(t,i);await this.run(n,e);const[o]=await this.run(r,e);return await this.run(l,e),this.dispatchDomEvent(t,e),o}callSync(t,e,i){const{before:n,handler:r,after:l}=this.getHandlers(t,i);this.runSync(n,e);const[o]=this.runSync(r,e);return this.runSync(l,e),this.dispatchDomEvent(t,e),o}async run(t,e){const i=[];for(const{hook:n,handler:r,defaultHandler:l,once:o}of t){const a=await nt(r,[this.swup.visit,e,l]);i.push(a),o&&this.off(n,r)}return i}runSync(t,e){const i=[];for(const{hook:n,handler:r,defaultHandler:l,once:o}of t){const a=r(this.swup.visit,e,l);i.push(a),W(a)&&console.warn(`Promise returned from handler for synchronous hook '${n}'.Swup will not wait for it to resolve.`),o&&this.off(n,r)}return i}getHandlers(t,e){const i=this.get(t);if(!i)return{found:!1,before:[],handler:[],after:[],replaced:!1};const n=Array.from(i.values()),r=this.sortRegistrations,l=n.filter(({before:h,replace:m})=>h&&!m).sort(r),o=n.filter(({replace:h})=>h).filter(h=>!0).sort(r),a=n.filter(({before:h,replace:m})=>!h&&!m).sort(r),c=o.length>0;let u=[];if(e&&(u=[{id:0,hook:t,handler:e}],c)){const h=o.length-1,m=p=>{const g=o[p-1];return g?(f,y)=>g.handler(f,y,m(p-1)):e};u=[{id:0,hook:t,handler:o[h].handler,defaultHandler:m(h)}]}return{found:!0,before:l,handler:u,after:a,replaced:c}}sortRegistrations(t,e){var i,n;return((i=t.priority)!=null?i:0)-((n=e.priority)!=null?n:0)||t.id-e.id||0}dispatchDomEvent(t,e){document.dispatchEvent(new CustomEvent(`swup:${t}`,{detail:{hook:t,args:e,visit:this.swup.visit}}))}}const lt=s=>{if(s&&s.charAt(0)==="#"&&(s=s.substring(1)),!s)return null;const t=decodeURIComponent(s);let e=document.getElementById(s)||document.getElementById(t)||q(`a[name='${_(s)}']`)||q(`a[name='${_(t)}']`);return e||s!=="top"||(e=document.body),e},T="transition",U="animation";async function ht({elements:s,selector:t}){if(t===!1&&!s)return;let e=[];if(s)e=Array.from(s);else if(t&&(e=L(t,document.body),!e.length))return void console.warn(`[swup] No elements found matching animationSelector \`${t}\``);const i=e.map(n=>function(r){const{type:l,timeout:o,propCount:a}=function(c,u){const h=window.getComputedStyle(c),m=x(h,`${T}Delay`),p=x(h,`${T}Duration`),g=z(m,p),f=x(h,`${U}Delay`),y=x(h,`${U}Duration`),w=z(f,y);let k=null,d=0,b=0;return d=Math.max(g,w),k=d>0?g>w?T:U:null,b=k?k===T?p.length:y.length:0,{type:k,timeout:d,propCount:b}}(r);return!(!l||!o)&&new Promise(c=>{const u=`${l}end`,h=performance.now();let m=0;const p=()=>{r.removeEventListener(u,g),c()},g=f=>{if(f.target===r){if(!function(y){return[`${T}end`,`${U}end`].includes(y.type)}(f))throw new Error("Not a transition or animation event.");(performance.now()-h)/1e3<f.elapsedTime||++m>=a&&p()}};setTimeout(()=>{m<a&&p()},o+1),r.addEventListener(u,g)})}(n));i.filter(Boolean).length>0?await Promise.all(i):t&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${t}\``)}function x(s,t){return(s[t]||"").split(", ")}function z(s,t){for(;s.length<t.length;)s=s.concat(s);return Math.max(...t.map((e,i)=>F(e)+F(s[i])))}function ct(s,t={},e={}){if(typeof s!="string")throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(s,{el:e.el,event:e.event}))return void(window.location.href=s);const{url:i,hash:n}=S.fromUrl(s);this.visit=this.createVisit(v({},e,{to:i,hash:n})),this.performNavigation(t)}async function ut(s={}){this.navigating=!0;const t=this.visit,{el:e}=t.trigger;s.referrer=s.referrer||this.currentPageUrl,s.animate===!1&&(t.animation.animate=!1),t.animation.animate||this.classes.clear();const i=s.history||(e==null?void 0:e.getAttribute("data-swup-history"))||void 0;i&&["push","replace"].includes(i)&&(t.history.action=i);const n=s.animation||(e==null?void 0:e.getAttribute("data-swup-animation"))||void 0;var r,l;n&&(t.animation.name=n),typeof s.cache=="object"?(t.cache.read=(r=s.cache.read)!=null?r:t.cache.read,t.cache.write=(l=s.cache.write)!=null?l:t.cache.write):s.cache!==void 0&&(t.cache={read:!!s.cache,write:!!s.cache}),delete s.cache;try{await this.hooks.call("visit:start",void 0);const o=this.hooks.call("page:load",{options:s},async(a,c)=>{let u;return a.cache.read&&(u=this.cache.get(a.to.url)),c.page=u||await this.fetchPage(a.to.url,c.options),c.cache=!!u,c.page});if(!t.history.popstate){const a=t.to.url+t.to.hash;t.history.action==="replace"||t.to.url===this.currentPageUrl?E(a):(this.currentHistoryIndex++,tt(a,{index:this.currentHistoryIndex}))}if(this.currentPageUrl=P(),t.animation.wait){const{html:a}=await o;t.to.html=a}await this.hooks.call("visit:transition",void 0,async a=>{const c=this.animatePageOut(),[u]=await Promise.all([o,c]);return a.id===this.visit.id&&(await this.renderPage(u),await this.animatePageIn(),!0)}),await this.hooks.call("visit:end",void 0,()=>this.classes.clear()),this.navigating=!1}catch(o){if(!o||o!=null&&o.aborted)return;console.error(o),this.options.skipPopStateHandling=()=>(window.location.href=t.to.url+t.to.hash,!0),window.history.go(-1)}}const dt=async function(){this.visit.animation.animate?(await this.hooks.call("animation:out:start",void 0,s=>{this.classes.add("is-changing","is-leaving","is-animating"),s.history.popstate&&this.classes.add("is-popstate"),s.animation.name&&this.classes.add(`to-${j(s.animation.name)}`)}),await this.hooks.call("animation:out:await",{skip:!1},async(s,{skip:t})=>{t||await this.awaitAnimations({selector:s.animation.selector})}),await this.hooks.call("animation:out:end",void 0)):await this.hooks.call("animation:skip",void 0)},mt=function({html:s},{containers:t}=this.options){var e;const i=new DOMParser().parseFromString(s,"text/html"),n=((e=i.querySelector("title"))==null?void 0:e.innerText)||"";document.title=n;const r=L('[data-swup-persist]:not([data-swup-persist=""])'),l=t.map(o=>{const a=document.querySelector(o),c=i.querySelector(o);return a&&c?(a.replaceWith(c),!0):(a||console.warn(`[swup] Container missing in current document: ${o}`),c||console.warn(`[swup] Container missing in incoming document: ${o}`),!1)}).filter(Boolean);return r.forEach(o=>{const a=o.getAttribute("data-swup-persist"),c=q(`[data-swup-persist="${a}"]`);c&&c!==o&&c.replaceWith(o)}),l.length===t.length},pt=function(){const s={behavior:"auto"},{target:t,reset:e}=this.visit.scroll,i=t??this.visit.to.hash;let n=!1;return i&&(n=this.hooks.callSync("scroll:anchor",{hash:i,options:s},(r,{hash:l,options:o})=>{const a=this.getAnchorElement(l);return a&&a.scrollIntoView(o),!!a})),e&&!n&&(n=this.hooks.callSync("scroll:top",{options:s},(r,{options:l})=>(window.scrollTo(v({top:0,left:0},l)),!0))),n},gt=async function(){if(!this.visit.animation.animate)return;const s=this.hooks.call("animation:in:await",{skip:!1},async(t,{skip:e})=>{e||await this.awaitAnimations({selector:t.animation.selector})});await R(),await this.hooks.call("animation:in:start",void 0,()=>{this.classes.remove("is-animating")}),await s,await this.hooks.call("animation:in:end",void 0)},ft=async function(s){const{url:t,html:e}=s;this.classes.remove("is-leaving"),this.isSameResolvedUrl(P(),t)||(E(t),this.currentPageUrl=P(),this.visit.to.url=this.currentPageUrl),this.visit.animation.animate&&this.classes.add("is-rendering"),this.visit.to.html=e,await this.hooks.call("content:replace",{page:s},(i,{page:n})=>{if(!this.replaceContent(n,{containers:i.containers}))throw new Error("[swup] Container mismatch, aborting");i.animation.animate&&(this.classes.add("is-animating","is-changing","is-rendering"),i.animation.name&&this.classes.add(`to-${j(i.animation.name)}`))}),await this.hooks.call("content:scroll",void 0,()=>this.scrollToContent()),await this.hooks.call("page:view",{url:this.currentPageUrl,title:document.title})},wt=function(s){var t;if(t=s,!!(t!=null&&t.isSwupPlugin)){if(s.swup=this,!s._checkRequirements||s._checkRequirements())return s._beforeMount&&s._beforeMount(),s.mount(),this.plugins.push(s),this.plugins}else console.error("Not a swup plugin instance",s)};function vt(s){const t=this.findPlugin(s);if(t)return t.unmount(),t._afterUnmount&&t._afterUnmount(),this.plugins=this.plugins.filter(e=>e!==t),this.plugins;console.error("No such plugin",t)}function yt(s){return this.plugins.find(t=>t===s||t.name===s||t.name===`Swup${String(s)}`)}function kt(s){if(typeof this.options.resolveUrl!="function")return console.warn("[swup] options.resolveUrl expects a callback function."),s;const t=this.options.resolveUrl(s);return t&&typeof t=="string"?t.startsWith("//")||t.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),s):t:(console.warn("[swup] options.resolveUrl needs to return a url"),s)}function bt(s,t){return this.resolveUrl(s)===this.resolveUrl(t)}const St={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],ignoreVisit:(s,{el:t}={})=>!(t==null||!t.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",plugins:[],resolveUrl:s=>s,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:s=>{var t;return((t=s.state)==null?void 0:t.source)!=="swup"},timeout:0};class Pt{constructor(t={}){var e,i;this.version="4.4.2",this.options=void 0,this.defaults=St,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.currentPageUrl=P(),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.use=wt,this.unuse=vt,this.findPlugin=yt,this.log=()=>{},this.navigate=ct,this.performNavigation=ut,this.createVisit=ot,this.delegateEvent=et,this.fetchPage=st,this.awaitAnimations=ht,this.renderPage=ft,this.replaceContent=mt,this.animatePageIn=gt,this.animatePageOut=dt,this.scrollToContent=pt,this.getAnchorElement=lt,this.getCurrentUrl=P,this.resolveUrl=kt,this.isSameResolvedUrl=bt,this.options=v({},this.defaults,t),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new it(this),this.classes=new rt(this),this.hooks=new at(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=(e=(i=history.state)==null?void 0:i.index)!=null?e:1,this.checkRequirements()&&this.enable()}checkRequirements(){return typeof Promise<"u"||(console.warn("Promise is not supported"),!1)}async enable(){var t;const{linkSelector:e}=this.options;this.clickDelegate=this.delegateEvent(e,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.plugins.forEach(i=>this.use(i)),((t=history.state)==null?void 0:t.source)!=="swup"&&E(null,{index:this.currentHistoryIndex}),await R(),await this.hooks.call("enable",void 0,()=>{document.documentElement.classList.add("swup-enabled")})}async destroy(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach(t=>this.unuse(t)),await this.hooks.call("disable",void 0,()=>{document.documentElement.classList.remove("swup-enabled")}),this.hooks.clear()}shouldIgnoreVisit(t,{el:e,event:i}={}){const{origin:n,url:r,hash:l}=S.fromUrl(t);return n!==window.location.origin||!(!e||!this.triggerWillOpenNewWindow(e))||!!this.options.ignoreVisit(r+l,{el:e,event:i})}handleLinkClick(t){const e=t.delegateTarget,{href:i,url:n,hash:r}=S.fromElement(e);this.shouldIgnoreVisit(i,{el:e,event:t})||(this.navigating&&n===this.visit.to.url?t.preventDefault():(this.visit=this.createVisit({to:n,hash:r,el:e,event:t}),t.metaKey||t.ctrlKey||t.shiftKey||t.altKey?this.hooks.call("link:newtab",{href:i}):t.button===0&&this.hooks.callSync("link:click",{el:e,event:t},()=>{var l;const o=(l=this.visit.from.url)!=null?l:"";t.preventDefault(),n&&n!==o?this.isSameResolvedUrl(n,o)||this.performNavigation():r?this.hooks.callSync("link:anchor",{hash:r},()=>{E(n+r),this.scrollToContent()}):this.hooks.callSync("link:self",void 0,()=>this.options.linkToSelf==="navigate"?this.performNavigation():(E(n),this.scrollToContent()))})))}handlePopState(t){var e,i,n,r;const l=(e=(i=t.state)==null?void 0:i.url)!=null?e:location.href;if(this.options.skipPopStateHandling(t)||this.isSameResolvedUrl(P(),this.currentPageUrl))return;const{url:o,hash:a}=S.fromUrl(l);this.visit=this.createVisit({to:o,hash:a,event:t}),this.visit.history.popstate=!0;const c=(n=(r=t.state)==null?void 0:r.index)!=null?n:0;c&&c!==this.currentHistoryIndex&&(this.visit.history.direction=c-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=c),this.visit.animation.animate=!1,this.visit.scroll.reset=!1,this.visit.scroll.target=!1,this.options.animateHistoryBrowsing&&(this.visit.animation.animate=!0,this.visit.scroll.reset=!0),this.hooks.callSync("history:popstate",{event:t},()=>{this.performNavigation()})}triggerWillOpenNewWindow(t){return!!t.matches('[download], [target="_blank"]')}}function $(){return $=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}return s},$.apply(this,arguments)}const K=s=>String(s).split(".").map(t=>String(parseInt(t||"0",10))).concat(["0","0"]).slice(0,3).join(".");let N=class{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(t=>t()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([t,e])=>{if(!function(i,n,r){const l=function(o,a){var c;if(o==="swup")return(c=a.version)!=null?c:"";{var u;const h=a.findPlugin(o);return(u=h==null?void 0:h.version)!=null?u:""}}(i,r);return!!l&&((o,a)=>a.every(c=>{const[,u,h]=c.match(/^([\D]+)?(.*)$/)||[];var m,p;return((g,f)=>{const y={"":w=>w===0,">":w=>w>0,">=":w=>w>=0,"<":w=>w<0,"<=":w=>w<=0};return(y[f]||y[""])(g)})((p=h,m=K(m=o),p=K(p),m.localeCompare(p,void 0,{numeric:!0})),u||">=")}))(l,n)}(t,e=Array.isArray(e)?e:[e],this.swup)){const i=`${t} ${e.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${i}`)}}),!0}on(t,e,i={}){var n;e=!(n=e).name.startsWith("bound ")||n.hasOwnProperty("prototype")?e.bind(this):e;const r=this.swup.hooks.on(t,e,i);return this.handlersToUnregister.push(r),r}once(t,e,i={}){return this.on(t,e,$({},i,{once:!0}))}before(t,e,i={}){return this.on(t,e,$({},i,{before:!0}))}replace(t,e,i={}){return this.on(t,e,$({},i,{replace:!0}))}off(t,e){return this.swup.hooks.off(t,e)}};function D(){return D=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}return s},D.apply(this,arguments)}function G(s){return s.localName!=="title"&&!s.matches("[data-swup-theme]")}function J(s,t){return s.outerHTML===t.outerHTML}function Et(s){return s.matches("link[rel=stylesheet][href]")}let Tt=class extends N{constructor(t={}){var e;super(),e=this,this.name="SwupHeadPlugin",this.requires={swup:">=4"},this.defaults={persistTags:!1,persistAssets:!1,awaitAssets:!1,timeout:3e3},this.options=void 0,this.updateHead=async function(i,{page:{html:n}}){const r=new DOMParser().parseFromString(n,"text/html"),{removed:l,added:o}=function(h,m,{shouldPersist:p=()=>!1}={}){const g=Array.from(h.children),f=Array.from(m.children),y=(w=g,f.reduce((d,b,C)=>(w.some(H=>J(b,H))||d.push({el:b,index:C}),d),[]));var w;const k=function(d,b){return d.reduce((C,H)=>(b.some(Ut=>J(H,Ut))||C.push({el:H}),C),[])}(g,f);return k.reverse().filter(({el:d})=>G(d)).filter(({el:d})=>!p(d)).forEach(({el:d})=>h.removeChild(d)),y.filter(({el:d})=>G(d)).forEach(({el:d,index:b=0})=>{h.insertBefore(d,h.children[b+1]||null)}),{removed:k.map(({el:d})=>d),added:y.map(({el:d})=>d)}}(document.head,r.head,{shouldPersist:h=>e.isPersistentTag(h)});e.swup.log(`Removed ${l.length} / added ${o.length} tags in head`);const a=(c=document.documentElement).lang!==(u=r.documentElement).lang?(c.lang=u.lang,c.lang):null;var c,u;if(a&&e.swup.log(`Updated lang attribute: ${a}`),e.options.awaitAssets){const h=function(m,p=0){return m.filter(Et).map(g=>function(f,y=0){const w=k=>{(({href:d})=>Array.from(document.styleSheets).map(({href:b})=>b).includes(d))(f)?k():setTimeout(()=>w(k),10)};return new Promise(k=>{w(k),y>0&&setTimeout(k,y)})}(g,p))}(o,e.options.timeout);h.length&&(e.swup.log(`Waiting for ${h.length} assets to load`),await Promise.all(h))}},this.options=D({},this.defaults,t),this.options.persistAssets&&!this.options.persistTags&&(this.options.persistTags="link[rel=stylesheet], script[src], style")}mount(){this.before("content:replace",this.updateHead)}isPersistentTag(t){const{persistTags:e}=this.options;return typeof e=="function"?e(t):typeof e=="string"?t.matches(e):!!e}};function I(){return I=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}return s},I.apply(this,arguments)}class $t extends N{constructor(t={}){super(),this.name="SwupScriptsPlugin",this.requires={swup:">=4"},this.defaults={head:!0,body:!0,optin:!1},this.options=void 0,this.options=I({},this.defaults,t)}mount(){this.on("content:replace",this.runScripts)}runScripts(){const{head:t,body:e,optin:i}=this.options,n=this.getScope({head:t,body:e});if(!n)return;const r=Array.from(n.querySelectorAll(i?"script[data-swup-reload-script]":"script:not([data-swup-ignore-script])"));r.forEach(l=>this.runScript(l)),this.swup.log(`Executed ${r.length} scripts.`)}runScript(t){const e=document.createElement("script");for(const{name:i,value:n}of t.attributes)e.setAttribute(i,n);return e.textContent=t.textContent,t.replaceWith(e),e}getScope({head:t,body:e}){return t&&e?document:t?document.head:e?document.body:null}}function M(){return M=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}return s},M.apply(this,arguments)}class At{constructor({className:t,styleAttr:e,animationDuration:i,minValue:n,initialValue:r,trickleValue:l}={}){this.value=0,this.visible=!1,this.hiding=!1,this.className="progress-bar",this.styleAttr="data-progressbar-styles data-swup-theme",this.animationDuration=300,this.minValue=.1,this.initialValue=.25,this.trickleValue=.03,this.trickleInterval=void 0,this.styleElement=void 0,this.progressElement=void 0,this.trickle=()=>{const o=Math.random()*this.trickleValue;this.setValue(this.value+o)},t!==void 0&&(this.className=String(t)),e!==void 0&&(this.styleAttr=String(e)),i!==void 0&&(this.animationDuration=Number(i)),n!==void 0&&(this.minValue=Number(n)),r!==void 0&&(this.initialValue=Number(r)),l!==void 0&&(this.trickleValue=Number(l)),this.styleElement=this.createStyleElement(),this.progressElement=this.createProgressElement()}get defaultStyles(){return`
		.${this.className} {
			position: fixed;
			display: block;
			top: 0;
			left: 0;
			height: 3px;
			background-color: black;
			z-index: 9999;
			transition:
				width ${this.animationDuration}ms ease-out,
				opacity ${this.animationDuration/2}ms ${this.animationDuration/2}ms ease-in;
			transform: translate3d(0, 0, 0);
		}
	`}show(){this.visible||(this.visible=!0,this.installStyleElement(),this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(t){this.value=Math.min(1,Math.max(this.minValue,t)),this.refresh()}installStyleElement(){document.head.insertBefore(this.styleElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0%",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.progressElement.scrollTop=0,this.setValue(Math.random()*this.initialValue)}fadeProgressElement(t){this.progressElement.style.opacity="0",setTimeout(t,1.5*this.animationDuration)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,this.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=100*this.value+"%"})}createStyleElement(){const t=document.createElement("style");return this.styleAttr.split(" ").forEach(e=>t.setAttribute(e,"")),t.textContent=this.defaultStyles,t}createProgressElement(){const t=document.createElement("div");return t.className=this.className,t}}class Bt extends N{constructor(t={}){super(),this.name="SwupProgressPlugin",this.defaults={className:"swup-progress-bar",delay:300,transition:300,minValue:.1,initialValue:.25,finishAnimation:!0},this.options=void 0,this.progressBar=void 0,this.showProgressBarTimeout=void 0,this.hideProgressBarTimeout=void 0,this.options=M({},this.defaults,t);const{className:e,minValue:i,initialValue:n,transition:r}=this.options;this.progressBar=new At({className:e,minValue:i,initialValue:n,animationDuration:r})}mount(){this.on("visit:start",this.startShowingProgress),this.on("page:view",this.stopShowingProgress)}startShowingProgress(){this.progressBar.setValue(0),this.showProgressBarAfterDelay()}stopShowingProgress(){this.progressBar.setValue(1),this.options.finishAnimation?this.finishAnimationAndHideProgressBar():this.hideProgressBar()}showProgressBar(){this.cancelHideProgressBarTimeout(),this.progressBar.show()}showProgressBarAfterDelay(){this.cancelShowProgressBarTimeout(),this.cancelHideProgressBarTimeout(),this.showProgressBarTimeout=window.setTimeout(this.showProgressBar.bind(this),this.options.delay)}hideProgressBar(){this.cancelShowProgressBarTimeout(),this.progressBar.hide()}finishAnimationAndHideProgressBar(){this.cancelShowProgressBarTimeout(),this.hideProgressBarTimeout=window.setTimeout(this.hideProgressBar.bind(this),this.options.transition)}cancelShowProgressBarTimeout(){window.clearTimeout(this.showProgressBarTimeout),delete this.showProgressBarTimeout}cancelHideProgressBarTimeout(){window.clearTimeout(this.hideProgressBarTimeout),delete this.hideProgressBarTimeout}}new Pt({animateHistoryBrowsing:!0,plugins:[new Tt,new $t({optin:!0}),new Bt]}),A(),X(),Y()});
